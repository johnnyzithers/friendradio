<!-- This config file can be used to configure icecast
     in shoutcast compatibility mode which will allow
     you to connect the Shoutcast DSP (or other Nullsoft
     encoders such as the NSV encoder). Note this is just
     a minimal config, check the main icecast.xml.dist file
     for a complete list of possible configuration options -->
<icecast>

    <!-- // have to send headers to make sure we dont get ERR_EMPTY_RESPONSE -->
    <http-headers>
        <header name="Access-Control-Allow-Origin" value="*" />
        <header name="Access-Control-Allow-Credentials" value="true" />
        <header name="Access-Control-Allow-Headers" value="Access-Control-Allow-Headers, Origin,Accept, X-Requested-With, icy-metadata, Content-Type, Access-Control-Request-Method, Access-Control-Request-Headers" />
        <header name="Access-Control-Allow-Methods" value="GET,HEAD,OPTIONS,POST,PUT" />

    </http-headers>


    <limits>
        <clients>100</clients>
        <sources>2</sources>
        <queue-size>102400</queue-size>
        <client-timeout>30</client-timeout>
        <header-timeout>15</header-timeout>
        <source-timeout>10</source-timeout>
        <burst-on-connect>1</burst-on-connect>
        <burst-size>65536</burst-size>
        <!-- <clients>100</clients> -->
        <!-- <sources>10</sources> -->
        <!-- <source-timeout>20</source-timeout> -->
        <!-- <burst-on-connect>1</burst-on-connect> -->
        <!-- <burst-size>65536</burst-size> -->
    </limits>
    <authentication>
        <!-- Configure the shoutcast DSP to use this password -->
        <source-password>hackme</source-password>
        <!-- This is used for icecast's web interface -->
        <admin-user>admin</admin-user>
        <admin-password>hackme</admin-password>
    </authentication>
    <directory>
        <yp-url-timeout>15</yp-url-timeout>
        <yp-url>http://dir.xiph.org/cgi-bin/yp-cgi</yp-url>
    </directory>
    <!-- This is the hostname other people will use to connect to your server.
    It affects mainly the urls generated by Icecast for playlists and yp
    listings. -->

    <hostname>localhost</hostname>
    <location>earth</location>
    <admin>icemaster@localhost</admin>
    <fileserve>1</fileserve>
    <server-id>icecast 2.3</server-id>


    <!-- <hostname>192.168.1.142</hostname> -->
    <!-- <hostname>192.168.2.4</hostname> -->
    <!-- You MUST define 2 ports, port and port +1 -->
    <listen-socket>
        <port>9000</port>
    </listen-socket>

    <listen-socket>
        <port>9001</port>
    </listen-socket>

    <listen-socket>
        <port>9002</port>
    </listen-socket>

    <listen-socket>
        <port>9003</port>
    </listen-socket>

    <listen-socket>
        <port>9004</port>
    </listen-socket>

      <mount type="default">
        <public>0</public>
        <!-- <fallback-mount>9001</fallback-mount> -->
        <intro>/stream</intro>
<!--         <max-listener-duration>3600</max-listener-duration>
 -->        

        <!-- this needed or else cant find the port -->
        <authentication type="url">
                <option name="mount_add" value="http://auth.example.org/stream_start.php"/>
        </authentication>
        <!-- <http-headers>
                <header name="foo" value="bar" />
        </http-headers> -->
    </mount>
   

    <!-- Normal mounts -->
    
  <!--   <mount type="normal">
        <mount-name>/example-complex.ogg</mount-name>

        <username>othersource</username>
        <password>hack</password>

        <max-listeners>1</max-listeners>
        <dump-file>/tmp/dump-example1.ogg</dump-file>
        <burst-size>65536</burst-size>
        <fallback-mount>/example2.ogg</fallback-mount>
        <fallback-override>1</fallback-override>
        <fallback-when-full>1</fallback-when-full>
        <intro>/example_intro.ogg</intro>
        <hidden>1</hidden>
        <public>1</public>
        <authentication type="htpasswd">
                <option name="filename" value="myauth"/>
                <option name="allow_duplicate_users" value="0"/>
        </authentication>
        <http-headers>
                <header name="Access-Control-Allow-Origin" value="http://webplayer.example.org" />
                <header name="baz" value="quux" />
        </http-headers>
        <on-connect>/home/icecast/bin/stream-start</on-connect>
        <on-disconnect>/home/icecast/bin/stream-stop</on-disconnect>
    </mount> -->
    


    <fileserve>1</fileserve>
    <paths>
        <basedir>./</basedir>
        <logdir>./logs</logdir>
        <webroot>./web</webroot>
        <adminroot>./admin</adminroot>
        <alias source="/" destination="/status.xsl"/>

    </paths>
    <logging>
        <accesslog>access.log</accesslog>
        <errorlog>error.log</errorlog>
      	<loglevel>4</loglevel> <!-- 4 Debug, 3 Info, 2 Warn, 1 Error -->
    </logging>
    <security>
        <chroot>0</chroot>
    </security>
</icecast>
